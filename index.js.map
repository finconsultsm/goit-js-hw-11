{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const PixabayApiKey = '30127977-afd00810882476e7ef9a8a757';\n\nconst baseUrl = `https://pixabay.com/api/?key=${PixabayApiKey}&per_page=15`;\n\nexport const searchImages = query => {\n  const url = `${baseUrl}&q=${query}`;\n\n  const response = fetch(url)\n    .then(res => res.json())\n    .catch(err => console.log(err));\n\n  return response;\n};\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst galleryContainer = document.querySelector('.gallery');\n\nconst gallery = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nexport const createGalaryMatkup = images => {\n  const galleryMarkup = images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        views,\n        likes,\n        comments,\n        downloads,\n      }) => {\n        return `\n        <li class=\"gallery-item\">\n          <a class=\"gallery-link\" href=\"${largeImageURL}\">\n            <img\n              class=\"gallery-image\"\n              src=\"${webformatURL}\"\n              alt=\"${tags}\"\n            />\n            <ul class=\"gallery-info\">\n              <li class=\"gallery-item-info\">\n                <p class=\"info-item-title\">\n                Likes\n                </p>\n                <p class=\"info-item-value\">\n                  ${likes}\n                </p>\n              </li>\n              <li class=\"gallery-item-info\">\n                <p class=\"info-item-title\">\n                  Views\n                </p>\n                <p class=\"info-item-value\">\n                  ${views}\n                </p>\n              </li>\n              <li class=\"gallery-item-info\">\n                <p class=\"info-item-title\">\n                  Comments\n                </p>\n                <p class=\"info-item-value\">\n                  ${comments}\n                </p>\n              </li>\n              <li class=\"gallery-item-info\">\n                <p class=\"info-item-title\">\n                  Downloads\n                </p>\n                <p class=\"info-item-value\">\n                  ${downloads}\n                </p>\n              </li>\n            </ul>\n          </a>\n        </li>\n      `;\n      }\n    )\n    .join('');\n\n  galleryContainer.innerHTML = galleryMarkup;\n  gallery.refresh();\n};\n\n// const gallery = new SimpleLightbox('.gallery a', {\n//   captionsData: 'alt',\n//   captionDelay: 250,\n// });\n","import { searchImages } from './js/pixabay-api';\nimport { createGalaryMatkup } from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.search-form');\nconst loader = document.querySelector('.loader-wrapper');\n\nform.addEventListener('submit', evt => {\n  evt.preventDefault();\n\n  const formData = new FormData(form);\n  const query = formData.get('query');\n\n  loader.classList.add('show');\n\n  const response = searchImages(query)\n    .then(data => {\n      loader.classList.remove('show');\n\n      if (data.hits.length < 1) {\n        iziToast.error({\n          title: 'Error',\n          position: 'topRight',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n        return;\n      }\n      createGalaryMatkup(data.hits);\n    })\n    .catch(err => {\n      loader.classList.remove('show');\n      iziToast.error({\n        title: 'Error',\n        position: 'topRight',\n        message: 'Failed to load images. Please try again!',\n      });\n    });\n});\n"],"names":["PixabayApiKey","baseUrl","searchImages","query","url","res","err","galleryContainer","gallery","SimpleLightbox","createGalaryMatkup","images","galleryMarkup","webformatURL","largeImageURL","tags","views","likes","comments","downloads","form","loader","evt","data","iziToast"],"mappings":"6vBAAA,MAAMA,EAAgB,qCAEhBC,EAAU,gCAAgCD,CAAa,eAEhDE,EAAeC,GAAS,CACnC,MAAMC,EAAM,GAAGH,CAAO,MAAME,CAAK,GAMjC,OAJiB,MAAMC,CAAG,EACvB,KAAKC,GAAOA,EAAI,MAAM,EACtB,MAAMC,GAAO,QAAQ,IAAIA,CAAG,CAAC,CAGlC,ECTMC,EAAmB,SAAS,cAAc,UAAU,EAEpDC,EAAU,IAAIC,EAAe,aAAc,CAC/C,aAAc,MACd,aAAc,GAChB,CAAC,EAEYC,EAAqBC,GAAU,CAC1C,MAAMC,EAAgBD,EACnB,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA;AAAA,0CAE2BL,CAAa;AAAA;AAAA;AAAA,qBAGlCD,CAAY;AAAA,qBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAQLE,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAQLD,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAQLE,CAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAQRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAQxB,EACA,KAAK,EAAE,EAEVZ,EAAiB,UAAYK,EAC7BJ,EAAQ,QAAO,CACjB,ECpEMY,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAS,SAAS,cAAc,iBAAiB,EAEvDD,EAAK,iBAAiB,SAAUE,GAAO,CACrCA,EAAI,eAAc,EAGlB,MAAMnB,EADW,IAAI,SAASiB,CAAI,EACX,IAAI,OAAO,EAElCC,EAAO,UAAU,IAAI,MAAM,EAEVnB,EAAaC,CAAK,EAChC,KAAKoB,GAAQ,CAGZ,GAFAF,EAAO,UAAU,OAAO,MAAM,EAE1BE,EAAK,KAAK,OAAS,EAAG,CACxBC,EAAS,MAAM,CACb,MAAO,QACP,SAAU,WACV,QACE,0EACZ,CAAS,EACD,MACD,CACDd,EAAmBa,EAAK,IAAI,CAClC,CAAK,EACA,MAAMjB,GAAO,CACZe,EAAO,UAAU,OAAO,MAAM,EAC9BG,EAAS,MAAM,CACb,MAAO,QACP,SAAU,WACV,QAAS,0CACjB,CAAO,CACP,CAAK,CACL,CAAC"}